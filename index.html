<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Feliz Cumple, M√°</title>

<style>
:root{
  --bg1:#fdeff2;
  --bg2:#ffffff;
  --accent:#c65b7c;
  --accent2:#b04f6c;
  --paper:#ffffff;
  --ink:#444;
  --shadow: rgba(0,0,0,.12);
  --env:#f6d6df;
  --env2:#f0c6d2;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background: linear-gradient(135deg, var(--bg1), var(--bg2));
  font-family: Georgia, serif;
  color:var(--ink);
  padding:18px;
}

.stage{
  width:min(520px,95vw);
  text-align:center;
}

.title-top{
  margin-bottom:14px;
  opacity:.85;
}

/* ===== ENVELOPE ===== */
.envelope-scene{
  position:relative;
  height:380px;
  display:flex;
  justify-content:center;
  align-items:center;
}

.envelope{
  position:relative;
  width:420px;
  height:250px;
}

.envelope-shell{
  position:absolute;
  inset:0;
  transition: opacity .5s ease, transform .5s ease;
}

.env-back{
  position:absolute;
  inset:0;
  background:linear-gradient(180deg,var(--env),var(--env2));
  border-radius:18px;
}

.flap{
  position:absolute;
  top:0; left:0; right:0;
  height:58%;
  background:linear-gradient(180deg,#f9e1e8,var(--env));
  clip-path: polygon(0 0,100% 0,50% 85%);
  transform-origin: top center;
  transition: transform .9s ease;
}

.env-front{
  position:absolute;
  inset:0;
  pointer-events:none;
}

/* ===== HEART ===== */
@keyframes heartbeat{
  0%,100%{transform:translate(-50%,-50%) scale(1);}
  50%{transform:translate(-50%,-50%) scale(1.06);}
}

.seal{
  position:absolute;
  top:54%;
  left:50%;
  width:54px;
  height:54px;
  border-radius:50%;
  background:radial-gradient(circle at 30% 30%,#ffd7e2,var(--accent));
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  cursor:pointer;
  animation:heartbeat 2.4s ease-in-out infinite;
  transform:translate(-50%,-50%);
  z-index:5;
}

/* ===== LETTER ===== */
.letter{
  position:absolute;
  bottom:14px;
  left:50%;
  transform:translateX(-50%) translateY(120px);
  width:380px;
  min-height:238px;
  background:var(--paper);
  border-radius:16px;
  box-shadow:0 10px 22px rgba(0,0,0,.1);
  opacity:0;
  transition: transform 1s ease, opacity .7s ease;
}

.letter-inner{
  padding:22px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;
}

.opened .flap{
  transform:rotateX(165deg);
}

.opened .seal{
  opacity:0;
  pointer-events:none;
  animation:none;
}

.opened .letter{
  transform:translateX(-50%) translateY(-38px);
  opacity:1;
}

/* ===== BUTTON ===== */
.btn{
  background:var(--accent);
  color:#fff;
  border:none;
  border-radius:999px;
  padding:12px 18px;
  cursor:pointer;
  transition:.2s;
}

/* ‚úÖ Fix centrado real */
#btnMore{
  display:block;
  align-self:center;
  margin-left:auto;
  margin-right:auto;
  transform-origin:center center; /* clave */
}

/* üî• DESPLIEGUE DEL BOT√ìN */
.letter.show-pd #btnMore{
  animation: btnUnfold .55s ease forwards;
  pointer-events:none;
}

@keyframes btnUnfold{
  0%{transform:scaleY(1);opacity:1;}
  40%{transform:scaleY(1.15);}
  100%{transform:scaleY(0);opacity:0;}
}

/* ===== PD ===== */
.paper-note{
  display:none;
  margin-top:12px;
  padding:16px;
  background:#fff;
  border-radius:14px;
  box-shadow:0 10px 22px rgba(0,0,0,.08);
  opacity:0;
  transform:translateY(-6px);

  /* ‚úÖ centra el bloque del PD */
  margin-left:auto;
  margin-right:auto;
  width:min(380px, 88vw);
}

.letter.show-pd .paper-note{
  display:block;
  animation: pdIn .6s ease forwards;
  animation-delay:.3s;
}

@keyframes pdIn{
  to{opacity:1;transform:translateY(0);}
}

/* ===== SHEET MODE ===== */
.sheet-mode .envelope-shell{
  opacity:0;
  transform:translateY(16px);
  pointer-events:none;
}

.sheet-mode .letter{
  position:relative;
  transform:none;
  margin:0 auto;
  opacity:1;
}

@media (max-width: 420px){
  .envelope{ width:min(420px, 92vw); }
  .letter{ width:min(380px, 88vw); }
}
</style>
</head>

<body>

<div class="stage" id="stage">
  <p class="title-top">Una cartita para vos üíê</p>

  <div class="envelope-scene">
    <div class="envelope" id="envelope">

      <div class="envelope-shell">
        <div class="env-back"></div>
        <div class="flap"></div>
        <div class="seal" id="seal">‚ù§</div>
        <div class="env-front"></div>
      </div>

      <div class="letter" id="letter">
        <div class="letter-inner">

          <h2>Feliz cumplea√±os, m√° ‚ù§Ô∏è</h2>

          <p>Gracias por tu amor, tu paciencia y por estar siempre.</p>
          <p>Te deseo un a√±o lleno de paz y momentos lindos.</p>
          <p>Te quiero much√≠simo ü§ç</p>

          <button class="btn" id="btnMore">Una cosita m√°s para vos</button>

          <div class="paper-note" id="paperNote">
            <strong>PD:</strong><br>
            Y para terminar tu sorpresa‚Ä¶<br>
            dejate llevar, solo ten√©s que taparte los ojos üíê
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<script>
const stage = document.getElementById("stage");
const envelope = document.getElementById("envelope");
const seal = document.getElementById("seal");
const btnMore = document.getElementById("btnMore");
const letter = document.getElementById("letter");

let opened = false;

seal.addEventListener("click", () => {
  if(opened) return;
  opened = true;
  envelope.classList.add("opened");
  setTimeout(()=>stage.classList.add("sheet-mode"),1200);
});

btnMore.addEventListener("click", () => {
  letter.classList.add("show-pd");
});
</script>

</body>
</html>
